<div class="suggs-wrapper" [attr.dir]="direction">
  <div class="layout-grid">
    
    <!-- RIGHT COLUMN: FILTERS -->
    <div class="side-column filters">
      <ul>
        <li (click)="selectedSector = 'all'" [class.active]="selectedSector === 'all'">
          {{ 'all-sugg-comp.FILTER.ALL' | translate }}
        </li>
        <li *ngFor="let sec of sectors"
            (click)="selectedSector = sec"
            [class.active]="selectedSector === sec">
          <ng-container *ngIf="sec === 'ŸÇÿ∑ÿßÿπ ÿ¥ÿ¶ŸàŸÜ ÿßŸÑÿ™ÿπŸÑŸäŸÖ ŸàÿßŸÑÿ∑ŸÑÿßÿ®'">{{ 'all-sugg-comp.SECTORS.EDUCATION_AND_STUDENTS' | translate }}</ng-container>
          <ng-container *ngIf="sec === 'ŸÇÿ∑ÿßÿπ ÿ¥ÿ¶ŸàŸÜ ÿÆÿØŸÖÿ© ÿßŸÑŸÖÿ¨ÿ™ŸÖÿπ Ÿàÿ™ŸÜŸÖŸäÿ© ÿßŸÑÿ®Ÿäÿ¶ÿ©'">{{ 'all-sugg-comp.SECTORS.COMMUNITY_SERVICE' | translate }}</ng-container>
          <ng-container *ngIf="sec === 'ŸÇÿ∑ÿßÿπ ÿßŸÑÿØÿ±ÿßÿ≥ÿßÿ™ ÿßŸÑÿπŸÑŸäÿß'">{{ 'all-sugg-comp.SECTORS.GRADUATE_STUDIES' | translate }}</ng-container>
          <ng-container *ngIf="sec === 'ŸÇÿ∑ÿßÿπ ÿßŸÖŸäŸÜ ÿπÿßŸÖ ÿßŸÑÿ¨ÿßŸÖÿπŸá'">{{ 'all-sugg-comp.SECTORS.UNIVERSITY_SECRETARY' | translate }}</ng-container>
          <ng-container *ngIf="sec === 'ŸÇÿ∑ÿßÿπ ÿßÿØÿßÿ±ÿ© ÿßŸÑÿ¨ÿßŸÖÿπŸá'">{{ 'all-sugg-comp.SECTORS.UNIVERSITY_MANAGEMENT' | translate }}</ng-container>

          <ng-container *ngIf="
            sec !== 'ŸÇÿ∑ÿßÿπ ÿ¥ÿ¶ŸàŸÜ ÿßŸÑÿ™ÿπŸÑŸäŸÖ ŸàÿßŸÑÿ∑ŸÑÿßÿ®' &&
            sec !== 'ŸÇÿ∑ÿßÿπ ÿ¥ÿ¶ŸàŸÜ ÿÆÿØŸÖÿ© ÿßŸÑŸÖÿ¨ÿ™ŸÖÿπ Ÿàÿ™ŸÜŸÖŸäÿ© ÿßŸÑÿ®Ÿäÿ¶ÿ©' &&
            sec !== 'ŸÇÿ∑ÿßÿπ ÿßŸÑÿØÿ±ÿßÿ≥ÿßÿ™ ÿßŸÑÿπŸÑŸäÿß' &&
            sec !== 'ŸÇÿ∑ÿßÿπ ÿßŸÖŸäŸÜ ÿπÿßŸÖ ÿßŸÑÿ¨ÿßŸÖÿπŸá' &&
            sec !== 'ŸÇÿ∑ÿßÿπ ÿßÿØÿßÿ±ÿ© ÿßŸÑÿ¨ÿßŸÖÿπŸá'">
            {{ sec }}
          </ng-container>
        </li>
      </ul>
    </div>

    <!-- CENTER COLUMN: SUGGESTIONS -->
    <div class="main-column">
      <ng-container *ngIf="response.data?.length > 0; else noData">
        <div class="sugg-card" *ngFor="let sugg of filteredData()">
          <div class="user-info">

            <img [src]="sugg.user?.profile_image || 'ÿ¨ÿßŸÖÿπÿ©_ÿØŸÖŸÜŸáŸàÿ±.png'" alt="profile" class="profile-img" />
       
                    <!-- <img [src]="'https://damanhourappproject-production.up.railway.app' + sugg.user?.profile_image || 'ÿ¨ÿßŸÖÿπÿ©_ÿØŸÖŸÜŸáŸàÿ±.png'"  alt="Profile Image" class="profile-img"/> -->

            <div class="user-details">
              <p class="username">{{ sugg.user?.username }}</p>
              <p class="faculty">{{ sugg.user?.faculty }}</p>
            </div>

            <div class="status-box" [ngClass]="{
              'pending': sugg.status === 'ŸÖÿπŸÑŸÇ',
              'resolved': sugg.status === 'ÿ™ŸÖ ÿßŸÑÿ≠ŸÑ',
              'in-progress': sugg.status === 'ŸÇŸäÿØ ÿßŸÑÿ™ŸÜŸÅŸäÿ∞',
              'rejected': sugg.status === 'ŸÖÿ±ŸÅŸàÿ∂'
            }">
              <span class="status-icon" [title]="getStatusTooltip(sugg.status)">
                <i *ngIf="sugg.status === 'ŸÖÿπŸÑŸÇ'" class="fas fa-hourglass-half"></i>
                <i *ngIf="sugg.status === 'ÿ™ŸÖ ÿßŸÑÿ≠ŸÑ'" class="fas fa-check-circle"></i>
                <i *ngIf="sugg.status === 'ŸÇŸäÿØ ÿßŸÑÿ™ŸÜŸÅŸäÿ∞'" class="fas fa-tools"></i>
                <i *ngIf="sugg.status === 'ŸÖÿ±ŸÅŸàÿ∂'" class="fas fa-times-circle"></i>
              </span>
              <!-- ÿ™ÿ±ÿ¨ŸÖÿ© ÿ≠ÿßŸÑÿ© ÿßŸÑÿßŸÇÿ™ÿ±ÿßÿ≠ -->
              <span class="status-text">{{ ('all-sugg-comp.STATUS.' + sugg.status) | translate }}</span>
            </div>

          </div>

          <!-- ÿßŸÑŸàÿµŸÅ -->
          <p class="centered-text">
            <strong>{{ sugg.description }}</strong>
          </p>

          <!-- ÿßŸÑŸÖÿ±ŸÅŸÇÿßÿ™ -->
          <div class="centered-text" *ngIf="sugg.attachments">
            <strong>{{ 'all-sugg-comp.SUGGESTIONS.ATTACHMENTS' | translate }}:</strong><br>
            <a [href]="sugg.attachments" target="_blank">{{ 'all-sugg-comp.SUGGESTIONS.VIEW_ATTACHMENT' | translate }}</a>
          </div>

          <div class="reaction-box">
            <span class="like">üëç {{ sugg.like_count }} {{ 'all-sugg-comp.REACTIONS.LIKE' | translate }}</span>
            <span class="dislike">üëé {{ sugg.dislike_count }} {{ 'all-sugg-comp.REACTIONS.DISLIKE' | translate }}</span>
          </div>
        </div>
      </ng-container>

      <ng-template #noData>
        <p class="no-data">{{ 'all-sugg-comp.SUGGESTIONS.NO_DATA' | translate }}</p>
      </ng-template>
    </div>

    <!-- LEFT COLUMN: TIP + IMAGE SLIDER -->
    <div class="side-column tip">
    <p class="tip-message">üí° {{ 'all-sugg-comp.TIP.MESSAGE' | translate }}</p>

    <div class="slider-container">
      <div class="slider-images" [style.transform]="'translateX(-' + currentSlide * 100 + '%)'">
        <img src="edwin-andrade-4V1dC_eoCwg-unsplash.jpg" alt="slide1" />
        <img src="ÿ¨ÿßŸÖÿπÿ©_ÿØŸÖŸÜŸáŸàÿ±.png" alt="slide2" />
        <img src="ÿ¨ÿßŸÖÿπÿ©_ÿØŸÖŸÜŸáŸàÿ±.png" alt="slide3" />
      </div>

      <button class="prev-btn" (click)="prevSlide()">&#10094;</button>
      <button class="next-btn" (click)="nextSlide()">&#10095;</button>
    </div>
  </div>


  </div>
</div>
