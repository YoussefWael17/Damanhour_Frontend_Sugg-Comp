<div class="main-heading">
  <h1>{{ 'admin.title' | translate }}</h1>
</div>

<div class="section">
  <div class="container">
    <div class="content">
      <div class="text">
        <h1>{{ 'admin.sub_title' | translate }}</h1>
      </div>
    </div>
  </div>
</div>

<div class="complaint-form">
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>

    <!-- Full Name -->
    <label for="username">{{ 'admin.full_name' | translate }}</label>
    <input type="text" id="username" formControlName="username" [class.is-invalid]="submitted && f['username'].invalid" placeholder="{{ 'register.enter_name' | translate }}" />
    <div *ngIf="submitted && f['username'].invalid" class="invalid-feedback">
      <div *ngIf="f['username'].errors?.['required']">الاسم مطلوب</div>
      <div *ngIf="f['username'].errors?.['pattern']">الاسم يجب أن يكون ثلاثيًا على الأقل</div>
    </div>

    <!-- National ID -->
    <label for="national_id">{{ 'admin.national_id' | translate }}</label>
    <input type="text" id="national_id" formControlName="national_id" [class.is-invalid]="submitted && f['national_id'].invalid" placeholder="{{ 'register.enter_nid' | translate }}" />
    <div *ngIf="submitted && f['national_id'].invalid" class="invalid-feedback">
      <div *ngIf="f['national_id'].errors?.['required']">الرقم القومي مطلوب</div>
      <div *ngIf="f['national_id'].errors?.['pattern']">يجب أن يكون الرقم القومي 14 رقمًا</div>
    </div>

    <!-- Email -->
    <label for="email">{{ 'admin.email' | translate }}</label>
    <input type="email" id="email" formControlName="email" [class.is-invalid]="submitted && f['email'].invalid" placeholder="{{ 'register.enter_email' | translate }}" />
    <div *ngIf="submitted && f['email'].invalid" class="invalid-feedback">
      <div *ngIf="f['email'].errors?.['required']">البريد الإلكتروني مطلوب</div>
      <div *ngIf="f['email'].errors?.['email']">صيغة البريد غير صحيحة</div>
    </div>

    <!-- Phone Number -->
    <label for="phone">{{ 'admin.phone_number' | translate }}</label>
    <input type="text" id="phone" formControlName="phone" [class.is-invalid]="submitted && f['phone'].invalid" placeholder="{{ 'register.enter_number' | translate }}" />
    <div *ngIf="submitted && f['phone'].invalid" class="invalid-feedback">
      <div *ngIf="f['phone'].errors?.['required']">رقم الهاتف مطلوب</div>
      <div *ngIf="f['phone'].errors?.['pattern']">صيغة رقم الهاتف غير صحيحة</div>
    </div>

    <!-- Password Field -->
    <div class="password-input-wrapper">
      <label for="password">{{ 'admin.password' | translate }}</label>
      <input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password" class="form-control" [class.is-invalid]="submitted && f['password'].invalid" placeholder="{{ 'register.password' | translate }}" />
      <i class="fa" (click)="togglePassword()" [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'" style="cursor:pointer"></i>
      <div *ngIf="submitted && f['password'].invalid" class="invalid-feedback">
        <div *ngIf="f['password'].errors?.['required']">كلمة المرور مطلوبة</div>
        <div *ngIf="f['password'].errors?.['minlength']">يجب أن تكون كلمة المرور 6 أحرف على الأقل</div>
      </div>
    </div>

      <!-- Agree to Terms -->
    <div class="form-group form-check">
      <input type="checkbox" id="agree_terms" formControlName="agree_terms" [class.is-invalid]="submitted && f['agree_terms'].invalid" />
      <label class="form-check-label" for="agree_terms">{{ 'admin.confirm' | translate }}</label>
      <div *ngIf="submitted && f['agree_terms'].invalid" class="invalid-feedback">
        يجب الموافقة على الشروط
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary w-100" [disabled]="isLoading">
      <span *ngIf="!isLoading">{{ 'admin.end_reg' | translate }}</span>
      <span *ngIf="isLoading">
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        جاري التسجيل...
      </span>
    </button>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="alert alert-danger mt-3">
      {{ 'admin.notice' | translate }}
    </div>

    <!-- Link to Login -->
    <div style="text-align: center;">
      <a routerLink="/login" class="log-button">{{ 'admin.question' | translate }}</a>
    </div>
  </form>
</div>
